<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Form</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <link rel="stylesheet" th:href="@{/css/depaPaymentCss.css}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<!--    <style>-->
<!--        .hidden {-->
<!--            display: none;-->
<!--        }-->
<!--        .qr-code {-->
<!--            width: 200px;  /* Adjust the width as needed */-->
<!--            height: auto;  /* Maintain the aspect ratio */-->
<!--        }-->
<!--    </style>-->
</head>
<body>
<h2>Payment Form</h2>
<form th:action="@{/depa/payment}" method="post">
    <label for="paymentMethod">Payment Method:</label>
    <select name="paymentMethod" id="paymentMethod" onchange="togglePaymentInfo()">
        <option value="bank">Bank Transfer</option>
        <option value="qr">QR Code</option>
    </select>
    <br><br>

    <div id="bankInfo" class="payment-info">
        <h3>Bank Account Information</h3>
        <p>Bank Name: MB Bank</p>
        <p>Account Number: 0375942999</p>
        <p>Account Name: Mr Rich</p>
    </div>

    <div id="qrInfo" class="payment-info hidden">
        <h3>Scan QR Code</h3>
        <img th:src="@{/img/qrCode.jpg}" alt="QR Code" class="qr-code" >
    </div>

    <label for="amount">Amount:</label>
    <input type="number" id="amount" name="amount" min="0" step="0.01" required>
    <br><br>
    <button type="submit">Process Payment</button>

    <h2 th:text="${message}"></h2>
</form>

<script>
    function togglePaymentInfo() {
        var paymentMethod = document.getElementById('paymentMethod').value;
        var bankInfo = document.getElementById('bankInfo');
        var qrInfo = document.getElementById('qrInfo');

        if (paymentMethod === 'bank') {
            bankInfo.classList.remove('hidden');
            qrInfo.classList.add('hidden');
        } else if (paymentMethod === 'qr') {
            bankInfo.classList.add('hidden');
            qrInfo.classList.remove('hidden');
        }
    }

    // Initial call to set the correct display based on the default selection
    togglePaymentInfo();
</script>
</body>
</html>
